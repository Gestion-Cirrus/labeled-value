"use strict";(self.webpackChunklabeled_value=self.webpackChunklabeled_value||[]).push([[810],{"./src/components/LabeledGeoJson.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Collection:()=>Collection,Default:()=>Default,InvalidType:()=>InvalidType,Lines:()=>Lines,Polygon:()=>Polygon,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/LabeledGeoJson.js"),sampleGeoJson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[125.6,10.1]},properties:{name:"Dinagat Islands"}}]},samplePolyGeoJson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[125.6,10.1],[125.7,10.1],[125.7,10.2],[125.6,10.2],[125.6,10.1]]]},properties:{name:"Dinagat Islands"}}]},sampleLinesGeoJson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[125.6,10.1],[125.7,10.1],[125.7,10.2],[125.6,10.2],[125.6,10.1]]},properties:{name:"Dinagat Islands"}}]},sampleCollectionGeoJson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[125.6,10.1]},properties:{name:"Dinagat Islands"}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[125.6,10.1],[125.7,10.1],[125.7,10.2],[125.6,10.2],[125.6,10.1]]]},properties:{name:"Dinagat Islands"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[125.6,10.1],[125.7,10.1],[125.7,10.2],[125.6,10.2],[125.6,10.1]]},properties:{name:"Dinagat Islands"}}]};const __WEBPACK_DEFAULT_EXPORT__={title:"Basic/Geo/LabeledGeoJson",component:_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__.A};var Default=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__.A,{label:"GeoJSON",value:sampleGeoJson})},Polygon=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__.A,{label:"GeoJSON",value:samplePolyGeoJson})},Lines=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__.A,{label:"GeoJSON",value:sampleLinesGeoJson})},Collection=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__.A,{label:"GeoJSON",value:sampleCollectionGeoJson})},InvalidType=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LabeledGeoJson__WEBPACK_IMPORTED_MODULE_1__.A,{label:"GeoJSON",value:"Not a GeoJSON"})};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'() => <LabeledGeoJson label="GeoJSON" value={sampleGeoJson} />',...Default.parameters?.docs?.source}}},Polygon.parameters={...Polygon.parameters,docs:{...Polygon.parameters?.docs,source:{originalSource:'() => <LabeledGeoJson label="GeoJSON" value={samplePolyGeoJson} />',...Polygon.parameters?.docs?.source}}},Lines.parameters={...Lines.parameters,docs:{...Lines.parameters?.docs,source:{originalSource:'() => <LabeledGeoJson label="GeoJSON" value={sampleLinesGeoJson} />',...Lines.parameters?.docs?.source}}},Collection.parameters={...Collection.parameters,docs:{...Collection.parameters?.docs,source:{originalSource:'() => <LabeledGeoJson label="GeoJSON" value={sampleCollectionGeoJson} />',...Collection.parameters?.docs?.source}}},InvalidType.parameters={...InvalidType.parameters,docs:{...InvalidType.parameters?.docs,source:{originalSource:'() => <LabeledGeoJson label="GeoJSON" value="Not a GeoJSON" />',...InvalidType.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Polygon","Lines","Collection","InvalidType"]},"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./src/components/LabeledGeoJson.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".labeled-geojson .labeled-value-value{\n    max-width:600px;\n    max-height:400px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n.labeled-geojson .labeled-value-value .geojson-map{\n    width:100%;\n    height:100%;\n    max-width:calc( 100% - 2rem);\n}\n","",{version:3,sources:["webpack://./src/components/LabeledGeoJson.css"],names:[],mappings:"AAAA;IACI,eAAe;IACf,gBAAgB;IAChB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,sBAAsB;AAC1B;AACA;IACI,UAAU;IACV,WAAW;IACX,4BAA4B;AAChC",sourcesContent:[".labeled-geojson .labeled-value-value{\n    max-width:600px;\n    max-height:400px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n.labeled-geojson .labeled-value-value .geojson-map{\n    width:100%;\n    height:100%;\n    max-width:calc( 100% - 2rem);\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/LabeledGeoJson.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>src_components_LabeledGeoJson});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),LabeledGeoJson=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./src/components/LabeledGeoJson.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(LabeledGeoJson.A,options);LabeledGeoJson.A&&LabeledGeoJson.A.locals&&LabeledGeoJson.A.locals;var react=__webpack_require__("./node_modules/react/index.js"),Map=(__webpack_require__("./node_modules/ol/ol.css"),__webpack_require__("./node_modules/ol/Map.js")),View=__webpack_require__("./node_modules/ol/View.js"),Tile=__webpack_require__("./node_modules/ol/layer/Tile.js"),Vector=__webpack_require__("./node_modules/ol/layer/Vector.js"),OSM=__webpack_require__("./node_modules/ol/source/OSM.js"),source_Vector=__webpack_require__("./node_modules/ol/source/Vector.js"),GeoJSON=__webpack_require__("./node_modules/ol/format/GeoJSON.js"),Style=(__webpack_require__("./src/components/LabeledValue.css"),__webpack_require__("./node_modules/ol/style/Style.js")),Circle=__webpack_require__("./node_modules/ol/style/Circle.js"),Fill=__webpack_require__("./node_modules/ol/style/Fill.js"),Stroke=__webpack_require__("./node_modules/ol/style/Stroke.js"),typeHelpers=__webpack_require__("./src/utils/typeHelpers.js"),LabeledVoid=__webpack_require__("./src/components/LabeledVoid.js"),LabeledGeoJson_LabeledGeoJson=function(param){var label=param.label,value=param.value;if(!(0,typeHelpers.I7)(value))return react.createElement(LabeledVoid.A,{label,value,block:"true"});var figcaption,mapElement=(0,react.useRef)(null),mapRef=(0,react.useRef)(null);(0,react.useEffect)((function(){var features=(new GeoJSON.A).readFeatures(value,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});if(mapRef.current){var vectorSource=mapRef.current.getLayers().getArray()[1].getSource();vectorSource.clear(!0),vectorSource.addFeatures(features)}else mapRef.current=new Map.A({target:mapElement.current,layers:[new Tile.A({source:new OSM.A}),new Vector.A({source:new source_Vector.A({features}),style:function style(feature){switch(feature.getGeometry().getType()){case"Point":case"MultiPoint":return new Style.Ay({image:new Circle.A({radius:5,fill:new Fill.A({color:"red"}),stroke:new Stroke.A({color:"black",width:1})})});case"LineString":case"MultiLineString":return new Style.Ay({stroke:new Stroke.A({color:"#00ff00",width:2})});case"Polygon":case"MultiPolygon":return new Style.Ay({fill:new Fill.A({color:"rgba(0, 0, 255, 0.1)"}),stroke:new Stroke.A({color:"#0000ff",width:1})});default:return new Style.Ay}}})],view:new View.Ay({center:[0,0],zoom:2})});if(features.length>0){var extent=mapRef.current.getLayers().getArray()[1].getSource().getExtent();mapRef.current.getView().fit(extent,{padding:[50,50,50,50],duration:222})}}),[value]);var filename="".concat(label.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".geojson");return figcaption=react.createElement("figcaption",null,filename,react.createElement("a",{href:"data:application/json,".concat(encodeURIComponent(value)),download:filename,target:"_blank"},"◳")),react.createElement("div",{className:"labeled-value labeled-geojson"},label&&react.createElement("div",{className:"labeled-value-label"},label),react.createElement("figure",{className:"labeled-value-value"},react.createElement("div",{ref:mapElement,className:"geojson-map",style:{height:"400px"}}),figcaption))};const src_components_LabeledGeoJson=LabeledGeoJson_LabeledGeoJson;LabeledGeoJson_LabeledGeoJson.__docgenInfo={description:"",methods:[],displayName:"LabeledGeoJson"}}}]);